"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[828],{7288:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(5861),i=r(5671),s=r(3144),c=r(7757),a=r.n(c),u=r(4569).default,o=function(){function e(){(0,i.Z)(this,e),this.key="?api_key=4177e902090c804b976fbf3cfd72131d",this.BASE_URL="https://api.themoviedb.org",this.trending="/trending/{media_type}/{time_window}",this.search="/search/movie",this.movieCreadits="/movie/{movie_id}/credits",this.movieReview="/movie/{movie_id}/reviews",this.searchQuery=""}return(0,s.Z)(e,[{key:"fetchMovies",value:function(){var e=(0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(this.BASE_URL,"/3/movie/popular").concat(this.key));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchMoviesById",value:function(){var e=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(this.BASE_URL,"/3/movie/").concat(t).concat(this.key));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchMoviesByName",value:function(){var e=(0,n.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(this.BASE_URL,"/3/search/movie").concat(this.key,"&query=").concat(this.searchQuery));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"fetchCastById",value:function(){var e=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(this.BASE_URL,"/3/movie/").concat(t,"/credits").concat(this.key));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"fetchReviewById",value:function(){var e=(0,n.Z)(a().mark((function e(t){var r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.get("".concat(this.BASE_URL,"/3/movie/").concat(t,"/reviews").concat(this.key));case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"query",get:function(){return this.searchQuery},set:function(e){this.searchQuery=e}}]),e}()},9791:function(e,t,r){r.r(t);var n=r(8152),i=r(2791),s=r(6871),c=r(3504),a=r(3528),u=r(7288),o=r(184),h=new u.Z,v=(0,i.lazy)((function(){return r.e(756).then(r.bind(r,3881))})),d=(0,i.lazy)((function(){return r.e(939).then(r.bind(r,816))})),f=(0,i.lazy)((function(){return r.e(709).then(r.bind(r,3597))}));t.default=function(){var e=(0,i.useState)(),t=(0,n.Z)(e,2),r=t[0],u=t[1],l=(0,s.UO)(null).movieId,p=(0,s.TH)();if((0,i.useEffect)((function(){h.fetchMoviesById(l).then((function(e){var t=e.data;u(t)}))}),[l]),r)return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)("hr",{}),(0,o.jsxs)("div",{children:[(0,o.jsx)(c.rU,{to:p.state,children:(0,o.jsx)(d,{})}),(0,o.jsx)("img",{className:a.Z.image,src:"https://image.tmdb.org/t/p/w500/"+r.poster_path,alt:""}),(0,o.jsxs)("h1",{children:[r.title,"(",r.release_date.slice(0,4),")"]}),(0,o.jsxs)("p",{children:["User score: ",Math.round(10*r.vote_average),"%"]})]}),(0,o.jsx)("h2",{children:"Overview"}),(0,o.jsx)("div",{children:r.overview}),(0,o.jsx)("h2",{children:"Genres"}),(0,o.jsx)("p",{children:r.genres.map((function(e){var t=e.name;return"".concat(t," ")}))}),(0,o.jsx)("hr",{}),(0,o.jsx)("p",{children:"Additional information"}),(0,o.jsxs)("ul",{children:[(0,o.jsx)("li",{children:(0,o.jsx)(c.rU,{to:"cast",state:p.state,children:"Cast"})}),(0,o.jsx)("li",{children:(0,o.jsx)(c.rU,{to:"review",state:p.state,children:"Review"})})]}),(0,o.jsx)("hr",{}),(0,o.jsx)(i.Suspense,{fallback:(0,o.jsx)("h3",{children:"Loading..."}),children:(0,o.jsxs)(s.Z5,{children:[(0,o.jsx)(s.AW,{path:"cast",element:(0,o.jsx)(f,{movieId:l})}),(0,o.jsx)(s.AW,{path:"review",element:(0,o.jsx)(v,{movieId:l})})]})})]})}}}]);
//# sourceMappingURL=ChosenFilm.355deec0.chunk.js.map