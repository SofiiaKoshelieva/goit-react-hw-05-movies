{"version":3,"file":"static/js/ChosenFilm.12ffeb6a.chunk.js","mappings":"uNAYMA,EAAa,IAAIC,EAAAA,EACjBC,GAASC,EAAAA,EAAAA,OAAK,kBAClB,iCAEIC,GAASD,EAAAA,EAAAA,OAAK,kBAClB,gCAEIE,GAAOF,EAAAA,EAAAA,OAAK,kBAAM,iCAkExB,UAjEA,WACE,OAAgCG,EAAAA,EAAAA,YAAhC,eAAOC,EAAP,KAAiBC,EAAjB,KACQC,GAAYC,EAAAA,EAAAA,IAAU,MAAtBD,QACFE,GAAWC,EAAAA,EAAAA,MAOjB,IALAC,EAAAA,EAAAA,YAAU,WACRb,EAAWc,gBAAgBL,GAASM,MAAK,YAAe,IAAZC,EAAW,EAAXA,KAC1CR,EAAYQ,QAEb,CAACP,IACAF,EACF,OACE,iCACE,mBACA,4BACE,SAAC,KAAD,CAAMU,GAAIN,EAASO,MAAnB,UACE,SAACd,EAAD,OAGF,gBACEe,UAAWC,EAAAA,EAAAA,MACXC,IAAK,mCAAqCd,EAASe,YACnDC,IAAI,MAEN,0BACGhB,EAASiB,MADZ,IACoBjB,EAASkB,aAAaC,MAAM,EAAG,GADnD,QAGA,wCAAgBC,KAAKC,MAA8B,GAAxBrB,EAASsB,cAApC,WAGF,sCACA,yBAAMtB,EAASuB,YAEf,oCACA,uBACGvB,EAASwB,OAAOC,KAAI,YAAe,IAAZC,EAAW,EAAXA,KACtB,MAAM,GAAN,OAAUA,EAAV,WAGJ,mBAEA,mDACA,2BACE,yBACE,SAAC,KAAD,CAAMhB,GAAI,OAAQC,MAAOP,EAASO,MAAlC,qBAIF,yBACE,SAAC,KAAD,CAAMD,GAAI,SAAUC,MAAOP,EAASO,MAApC,0BAKJ,mBACA,SAAC,EAAAgB,SAAD,CAAUC,UAAU,uCAApB,UACE,UAAC,KAAD,YACE,SAAC,KAAD,CAAOC,KAAK,OAAOC,SAAS,SAAChC,EAAD,CAAMI,QAASA,OAC3C,SAAC,KAAD,CAAO2B,KAAK,SAASC,SAAS,SAACnC,EAAD,CAAQO,QAASA,gB,0GC9ErD6B,EAAQC,EAAAA,MAAAA,QACOtC,EAAAA,WACnB,cAAe,eACbuC,KAAKC,IAAM,4CACXD,KAAKE,SAAW,6BAChBF,KAAKG,SAAW,uCAChBH,KAAKI,OAAS,gBAEdJ,KAAKK,cAAgB,4BACrBL,KAAKM,YAAc,4BACnBN,KAAKO,YAAc,GAwCpB,OAvCA,sEACD,oGACyBT,EAAMU,IAAN,UAClBR,KAAKE,SADa,2BACcF,KAAKC,MAF5C,cACQlC,EADR,yBAISA,GAJT,kGADC,IACD,gEAOA,WAAsB0C,GAAtB,uFAC6BX,EAAMU,IAAN,UACtBR,KAAKE,SADiB,oBACGO,GADH,OACQT,KAAKC,MAF1C,cACQS,EADR,yBAISA,GAJT,mGAPA,IAOA,kEAMA,oGACiCZ,EAAMU,IAAN,UAC1BR,KAAKE,SADqB,0BACKF,KAAKC,IADV,kBACuBD,KAAKO,cAF7D,cACQI,EADR,yBAISA,GAJT,kGANA,IAMA,8DAOA,WAAoBF,GAApB,uFAC8BX,EAAMU,IAAN,UACvBR,KAAKE,SADkB,oBACEO,EADF,mBACeT,KAAKC,MAFlD,cACQW,EADR,yBAISA,GAJT,mGAPA,IAOA,gEAOA,WAAsBH,GAAtB,uFACgCX,EAAMU,IAAN,UACzBR,KAAKE,SADoB,oBACAO,EADA,mBACaT,KAAKC,MAFlD,cACQY,EADR,yBAISA,GAJT,mGAPA,IAOA,iBAMA,WACE,OAAOb,KAAKO,aACb,IACD,SAAUO,GACRd,KAAKO,YAAcO,MACpB,EAjDkBrD","sources":["components/ChosenFilm.jsx","services/ApiService.jsx"],"sourcesContent":["import { useEffect, useState, lazy, Suspense } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { Link } from 'react-router-dom';\nimport { Route, Routes } from 'react-router-dom';\n// import Cast from './Cast';\n// import Review from './Review';\n// import Button from './Button';\nimport { useLocation } from 'react-router-dom';\n\nimport s from '../components/movies.module.css';\n\nimport ApiService from '../services/ApiService';\nconst apiService = new ApiService();\nconst Review = lazy(() =>\n  import('./Review.jsx' /*webpackChunkName: 'Review'*/)\n);\nconst Button = lazy(() =>\n  import('./Button.jsx' /*webpackChunkName: 'Button'*/)\n);\nconst Cast = lazy(() => import('./Cast.jsx' /*webpackChunkName: 'Cast'*/));\nfunction ChosenFilm() {\n  const [response, setResponse] = useState();\n  const { movieId } = useParams(null);\n  const location = useLocation();\n\n  useEffect(() => {\n    apiService.fetchMoviesById(movieId).then(({ data }) => {\n      setResponse(data);\n    });\n  }, [movieId]);\n  if (response) {\n    return (\n      <>\n        <hr />\n        <div>\n          <Link to={location.state}>\n            <Button />\n          </Link>\n\n          <img\n            className={s.image}\n            src={'https://image.tmdb.org/t/p/w500/' + response.poster_path}\n            alt=\"\"\n          />\n          <h1>\n            {response.title}({response.release_date.slice(0, 4)})\n          </h1>\n          <p>User score: {Math.round(response.vote_average * 10)}%</p>\n        </div>\n\n        <h2>Overview</h2>\n        <div>{response.overview}</div>\n\n        <h2>Genres</h2>\n        <p>\n          {response.genres.map(({ name }) => {\n            return `${name} `;\n          })}\n        </p>\n        <hr />\n\n        <p>Additional information</p>\n        <ul>\n          <li>\n            <Link to={'cast'} state={location.state}>\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link to={'review'} state={location.state}>\n              Review\n            </Link>\n          </li>\n        </ul>\n        <hr />\n        <Suspense fallback={<h3>Loading...</h3>}>\n          <Routes>\n            <Route path=\"cast\" element={<Cast movieId={movieId} />}></Route>\n            <Route path=\"review\" element={<Review movieId={movieId} />}></Route>\n          </Routes>\n        </Suspense>\n      </>\n    );\n  }\n}\nexport default ChosenFilm;\n","const axios = require('axios').default;\nexport default class ApiService {\n  constructor() {\n    this.key = '?api_key=4177e902090c804b976fbf3cfd72131d';\n    this.BASE_URL = 'https://api.themoviedb.org';\n    this.trending = '/trending/{media_type}/{time_window}';\n    this.search = '/search/movie';\n\n    this.movieCreadits = '/movie/{movie_id}/credits';\n    this.movieReview = '/movie/{movie_id}/reviews';\n    this.searchQuery = '';\n  }\n  async fetchMovies() {\n    const response = await axios.get(\n      `${this.BASE_URL}/3/movie/popular${this.key}`\n    );\n    return response;\n  }\n\n  async fetchMoviesById(id) {\n    const responceById = await axios.get(\n      `${this.BASE_URL}/3/movie/${id}${this.key}`\n    );\n    return responceById;\n  }\n  async fetchMoviesByName() {\n    const fetchMovieByName = await axios.get(\n      `${this.BASE_URL}/3/search/movie${this.key}&query=${this.searchQuery}`\n    );\n    return fetchMovieByName;\n  }\n\n  async fetchCastById(id) {\n    const fetchCastById = await axios.get(\n      `${this.BASE_URL}/3/movie/${id}/credits${this.key}`\n    );\n    return fetchCastById;\n  }\n\n  async fetchReviewById(id) {\n    const fetchReviewById = await axios.get(\n      `${this.BASE_URL}/3/movie/${id}/reviews${this.key}`\n    );\n    return fetchReviewById;\n  }\n  get query() {\n    return this.searchQuery;\n  }\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n"],"names":["apiService","ApiService","Review","lazy","Button","Cast","useState","response","setResponse","movieId","useParams","location","useLocation","useEffect","fetchMoviesById","then","data","to","state","className","s","src","poster_path","alt","title","release_date","slice","Math","round","vote_average","overview","genres","map","name","Suspense","fallback","path","element","axios","require","this","key","BASE_URL","trending","search","movieCreadits","movieReview","searchQuery","get","id","responceById","fetchMovieByName","fetchCastById","fetchReviewById","newQuery"],"sourceRoot":""}